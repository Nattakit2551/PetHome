<!doctype html>
<html lang="th">
<head>
<meta charset="utf-8">
<title>PetHome - Shopping Cart</title>
<link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600&display=swap" rel="stylesheet">

<style>
body{
    background: linear-gradient(135deg,#F3E5C7,#E1C699,#CFAE70);
    background-attachment: fixed;
    font-family: 'Kanit', sans-serif;
    margin:0;
    color: #333;
}
table{ margin:auto; }
td{ padding:10px; text-align:center; }
.img-effect{
    border-radius:20px;
    box-shadow:0 8px 20px rgba(0,0,0,.35);
    transition:.3s;
    cursor:pointer;
}
.img-effect:hover{
    transform: translateY(-8px) scale(1.05);
    box-shadow:0 14px 30px rgba(0,0,0,.5);
}

.main-wrapper {
    max-width: 1200px;
    margin: 20px auto 60px;
    padding: 0 20px;
}

.cart-title {
    font-size: 24px;
    font-weight: bold;
    color: #5d4037;
    margin-bottom: 20px;
    display: flex;
    align-items: center;
    gap: 10px;
}

.shopee-layout {
    display: grid;
    grid-template-columns: 2.5fr 1fr; 
    gap: 20px;
    align-items: start;
}

.cart-items-panel {
    background: #fff;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    overflow: hidden;
}

.cart-header {
    display: grid;
    grid-template-columns: 4fr 1.5fr 1fr;
    padding: 15px 20px;
    background: #fff;
    border-bottom: 1px solid #f0f0f0;
    font-weight: 600;
    color: #888;
    font-size: 14px;
}

.cart-item-row {
    display: grid;
    grid-template-columns: 4fr 1.5fr 1fr;
    padding: 20px;
    border-bottom: 1px solid #f5f5f5;
    align-items: center;
    transition: 0.2s;
}

.cart-item-row:hover {
    background-color: #fafafa;
}

.item-product {
    display: flex;
    gap: 15px;
    align-items: center;
}

.item-img {
    width: 80px;
    height: 80px;
    border-radius: 4px;
    object-fit: cover;
    border: 1px solid #eee;
}

.item-details h4 {
    margin: 0 0 5px 0;
    font-size: 16px;
    color: #333;
}

.item-details span {
    font-size: 12px;
    color: #999;
    border: 1px solid #ddd;
    padding: 2px 6px;
    border-radius: 4px;
}

.item-price {
    font-size: 18px;
    font-weight: bold;
    color: #ee4d2d;
}

.item-action {
    text-align: right;
}

.btn-delete {
    background: none;
    border: none;
    color: #333;
    cursor: pointer;
    font-size: 14px;
}
.btn-delete:hover {
    color: #ee4d2d;
    text-decoration: underline;
}

.cart-summary-panel {
    background: #fff;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    padding: 20px;
    position: sticky;
    top: 20px;
}

.summary-row {
    display: flex;
    justify-content: space-between;
    margin-bottom: 15px;
    font-size: 14px;
    color: #666;
}

.summary-row.total {
    margin-top: 20px;
    padding-top: 20px;
    border-top: 1px dashed #ddd;
    font-size: 18px;
    color: #333;
    font-weight: bold;
    align-items: center;
}

.summary-row.total span:last-child {
    font-size: 26px;
    color: #ee4d2d;
}

.btn-checkout {
    width: 100%;
    background: linear-gradient(90deg, #ff7337, #ee4d2d);
    color: #fff;
    border: none;
    padding: 15px;
    font-size: 16px;
    font-weight: bold;
    border-radius: 4px;
    cursor: pointer;
    margin-top: 15px;
    transition: 0.3s;
    box-shadow: 0 4px 10px rgba(238, 77, 45, 0.3);
}

.btn-checkout:hover {
    opacity: 0.95;
    transform: translateY(-2px);
}

.btn-clear {
    width: 100%;
    background: #fff;
    border: 1px solid #ddd;
    color: #555;
    padding: 10px;
    border-radius: 4px;
    margin-top: 10px;
    cursor: pointer;
}
.btn-clear:hover {
    background: #f5f5f5;
}

.empty-cart {
    text-align: center;
    padding: 50px;
    color: #888;
    background: #fff;
    border-radius: 8px;
}
.empty-cart img {
    width: 100px;
    opacity: 0.5;
    margin-bottom: 20px;
}

</style>

<script>
function MM_swapImgRestore() {
  var i,x,a=document.MM_sr;
  for(i=0;a&&i<a.length&&(x=a[i])&&x.oSrc;i++) x.src=x.oSrc;
}
function MM_preloadImages() {
  var d=document; if(d.images){ if(!d.MM_p) d.MM_p=new Array();
    var i,j=d.MM_p.length,a=MM_preloadImages.arguments; for(i=0; i<a.length; i++)
    if (a[i].indexOf("#")!=0){ d.MM_p[j]=new Image; d.MM_p[j++].src=a[i];}}
}
function MM_findObj(n, d) {
  var p,i,x; if(!d) d=document; if((p=n.indexOf("?"))>0&&parent.frames.length) {
    d=parent.frames[n.substring(p+1)].document; n=n.substring(0,p);}
  if(!(x=d[n])&&d.all) x=d.all[n]; for (i=0;!x&&i<d.forms.length;i++) x=d.forms[i][n];
  if(!x && d.getElementById) x=d.getElementById(n); return x;
}
function MM_swapImage() {
  var i,j=0,x,a=MM_swapImage.arguments; document.MM_sr=new Array; for(i=0;i<(a.length-2);i+=3)
   if ((x=MM_findObj(a[i]))!=null){document.MM_sr[j++]=x; if(!x.oSrc) x.oSrc=x.src; x.src=a[i+2];}
}

function displayCart() {
    let cart = JSON.parse(localStorage.getItem("petCart")) || [];
    const container = document.getElementById("cart-items-area");
    const summaryCount = document.getElementById("summary-count");
    const summaryTotal = document.getElementById("summary-total");
    const summarySubtotal = document.getElementById("summary-subtotal");

    container.innerHTML = "";
    
    if (cart.length === 0) {
        container.innerHTML = `
            <div class="empty-cart">
                <img src="https://cdn-icons-png.flaticon.com/512/2038/2038854.png" alt="Empty">
                <h3>‡∏£‡∏ñ‡πÄ‡∏Ç‡πá‡∏ô‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏õ‡∏•‡πà‡∏≤</h3>
                <p>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏£‡∏ñ‡πÄ‡∏Ç‡πá‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</p>
                <a href="Products.html" style="color:#ee4d2d; text-decoration:none;">‡πÑ‡∏õ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ã‡∏∑‡πâ‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Å‡∏±‡∏ô‡πÄ‡∏•‡∏¢</a>
            </div>`;
        summaryCount.innerText = "0";
        summaryTotal.innerText = "‡∏ø0";
        summarySubtotal.innerText = "‡∏ø0";
        
        document.querySelector('.cart-summary-panel').style.opacity = '0.5';
        document.querySelector('.btn-checkout').disabled = true;
        return;
    }

    document.querySelector('.cart-summary-panel').style.opacity = '1';
    document.querySelector('.btn-checkout').disabled = false;

    let total = 0;

    cart.forEach((item, index) => {
        
        let priceNum = 0;
        if(typeof item.price === 'string'){
            priceNum = parseInt(item.price.replace(/[^0-9]/g, "")) || 0;
        } else {
            priceNum = item.price;
        }
        
        total += priceNum;

        let html = `
        <div class="cart-item-row">
            <div class="item-product">
                <img src="${item.img}" class="item-img">
                <div class="item-details">
                    <h4>${item.name}</h4>
                    <span>‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å: ‡∏õ‡∏Å‡∏ï‡∏¥</span>
                </div>
            </div>
            <div class="item-price">‡∏ø${priceNum.toLocaleString()}</div>
            <div class="item-action">
                <button class="btn-delete" onclick="removeItem(${index})">‡∏•‡∏ö</button>
            </div>
        </div>
        `;
        container.innerHTML += html;
    });

    summaryCount.innerText = cart.length;
    summarySubtotal.innerText = "‡∏ø" + total.toLocaleString();
    summaryTotal.innerText = "‡∏ø" + total.toLocaleString();
}

function removeItem(index) {
    let cart = JSON.parse(localStorage.getItem("petCart")) || [];
    cart.splice(index, 1);
    localStorage.setItem("petCart", JSON.stringify(cart));
    displayCart();
}

function clearCart() {
    if(confirm("‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÉ‡∏ä‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?")){
        localStorage.removeItem("petCart");
        displayCart();
    }
}

function goToPayment(){
    let cart = JSON.parse(localStorage.getItem("petCart")) || [];
    if(cart.length === 0) {
        alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô");
        return;
    }
    window.location.href = "Make payment.html";
}


window.onload = function() {
    MM_preloadImages('www/../Home/2.png','www/../Search/2.png','www/../products/2.png','www/../new products/2.png','www/../promotion/2.png','www/../Contact us/2.png','www/../review (1)/2.png','www/../Favorites/2.png','www/../Shopping cart/2.png','www/../PayMent (1)/2.png');
    displayCart();
};
</script>
</head>

<body>

<table><tr><td><a href="index.html"><img src="Shopping Cart.png" width="1400" height="200" class="img-effect"></a></td></tr></table>

<table>
<tr>
<td><a href="index.html" onMouseOver="MM_swapImage('m1','','home2.png',1)" onMouseOut="MM_swapImgRestore()">
<img src="home1.png" id="m1" class="img-effect"></a></td>

<td><a href="Search.html" onMouseOver="MM_swapImage('m2','','search2.png',1)" onMouseOut="MM_swapImgRestore()">
<img src="search1.png" id="m2" class="img-effect"></a></td>

<td><a href="Products.html" onMouseOver="MM_swapImage('m3','','product2.png',1)" onMouseOut="MM_swapImgRestore()">
<img src="product1.png" id="m3" class="img-effect"></a></td>

<td><a href="New Products.html" onMouseOver="MM_swapImage('m4','','new2.png',1)" onMouseOut="MM_swapImgRestore()">
<img src="new1.png" id="m4" class="img-effect"></a></td>

<td><a href="Promotion.html" onMouseOver="MM_swapImage('m5','','promotion2.png',1)" onMouseOut="MM_swapImgRestore()">
<img src="promotion1.png" id="m5" class="img-effect"></a></td>

<td><a href="Contact us.html" onMouseOver="MM_swapImage('m6','','Contact2.png',1)" onMouseOut="MM_swapImgRestore()">
<img src="Contact1.png" id="m6" class="img-effect"></a></td>

<td><a href="Review.html" onMouseOver="MM_swapImage('m7','','review2.png',1)" onMouseOut="MM_swapImgRestore()">
<img src="review1.png" id="m7" class="img-effect"></a></td>

<td><a href="Favorites.html" onMouseOver="MM_swapImage('m8','','Favorites2.png',1)" onMouseOut="MM_swapImgRestore()">
<img src="Favorites1.png" id="m8" class="img-effect"></a></td>

<td><a href="Shopping Cart.html" onMouseOver="MM_swapImage('m9','','cart2.png',1)" onMouseOut="MM_swapImgRestore()">
<img src="cart1.png" id="m9" class="img-effect"></a></td>

<td><a href="Make payment.html" onMouseOver="MM_swapImage('m10','','payment2.png',1)" onMouseOut="MM_swapImgRestore()">
<img src="payment1.png" id="m10" class="img-effect"></a></td>
</tr>
</table>

<div class="main-wrapper">
    <div class="cart-title">
        üõí ‡∏£‡∏ñ‡πÄ‡∏Ç‡πá‡∏ô‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô
    </div>

    <div class="shopee-layout">
        
        <div class="cart-left-section">
            <div class="cart-items-panel">
                <div class="cart-header">
                    <div>‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</div>
                    <div>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πà‡∏≠‡∏´‡∏ô‡πà‡∏ß‡∏¢</div>
                    <div style="text-align:right;">‡πÅ‡∏≠‡∏Ñ‡∏ä‡∏±‡πà‡∏ô</div>
                </div>
                
                <div id="cart-items-area">
                    </div>
            </div>
        </div>

        <div class="cart-right-section">
            <div class="cart-summary-panel">
                <h3 style="margin-top:0;">‡∏™‡∏£‡∏∏‡∏õ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</h3>
                
                <div class="summary-row">
                    <span>‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏° (<span id="summary-count">0</span> ‡∏ä‡∏¥‡πâ‡∏ô)</span>
                    <span id="summary-subtotal">‡∏ø0</span>
                </div>
                
                <div class="summary-row">
                    <span>‡∏Ñ‡πà‡∏≤‡∏à‡∏±‡∏î‡∏™‡πà‡∏á</span>
                    <span>‡∏ü‡∏£‡∏µ</span>
                </div>

                <div class="summary-row total">
                    <span>‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡∏™‡∏∏‡∏ó‡∏ò‡∏¥</span>
                    <span id="summary-total">‡∏ø0</span>
                </div>

                <button class="btn-checkout" onclick="goToPayment()">‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</button>
                <button class="btn-clear" onclick="clearCart()">‡∏•‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
            </div>
        </div>

    </div>
</div>

</body>
</html>